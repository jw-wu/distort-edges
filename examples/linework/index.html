<html>
  <head>
    
    <title>Distort Edges: Linework</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="../../dist/js/umd/distortedges.js"></script>
    <link rel="stylesheet" href="./css/general.css">
    <link rel="stylesheet" href="./css/linework.css">
    <link rel="stylesheet" href="./css/hud.css">

  </head>
  <body>

    <div id="container">

        <svg width="565" height="465" viewBox="0 0 565 465" fill-rule="evenodd" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet">
          <path d="M12.7108 298.957C213.635 249.377 130.525 93.7289 97 4C211.4 140.8 391.333 49.3333 432 4C379 173 482 203 563 229C387 193.8 339 360.333 344 461C332.313 274.015 123.667 274.189 12.7108 298.957C9.86453 299.66 6.96124 300.341 4 301C6.82955 300.303 9.73505 299.622 12.7108 298.957Z" fill="#ffcc00"/>
          <path d="" id="linework-path" fill="#000"></path>
        </svg>

    </div>

    <div id="hud">
      <div id="title">Distort Edges</div>
    </div>

    <script type="module">

      import { svgPath } from "./paths/svgpath-linework.js";

      
      const settings =  { variableDistanceApart: true,
                          minDistanceApart: 5,
                          maxDistanceApart: 20,
                          keepWithinOriginalSize: false
      };

      const recipe =    { variableDistortionDistance: true,
                          maximumDistortionDistance: 0.8,
                          handleDistancePeak: 0.5,
                          handleDistanceTrough: 0.5
      };


      function redrawLinework(drawing) {

        let flower1Linework = new DistortedShape(svgPath, settings, recipe);
        drawing.setAttribute("d", flower1Linework.getDrawCommands());

      }


      document.addEventListener("DOMContentLoaded", () => {

        const drawing = document.getElementById("linework-path");

        setInterval(() => {
          redrawLinework(drawing)
        }, 150);

      });

    </script>

  </body>
</html>